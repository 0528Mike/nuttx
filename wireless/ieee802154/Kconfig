#
# For a description of the syntax of this configuration file,
# see the file kconfig-language.txt in the NuttX tools repository.
#

config WIRELESS_IEEE802154
	bool "IEEE 802.15.4 Wireless Support"
	default n
	---help---
		Enables support for the IEEE 802.14.5 Wireless library.

if WIRELESS_IEEE802154

config IEEE802154_MAC
	bool "Generic Media Access Control layer for 802.15.4 radios"
	default n
	depends on WIRELESS_IEEE802154
	---help---
		Enables a Media Access Controller for any IEEE802.15.4 radio
		device. This in turn can be used by higher layer entities
		such as 6lowpan. It is not required to use 802.15.4 radios,
		but is strongly suggested to ensure exchange of valid frames.

config IEEE802154_MAC_DEV
	bool "Character driver for IEEE 802.15.4 MAC layer"
	default n
	depends on IEEE802154_MAC
	---help---
		Enable the device driver to expose the IEEE 802.15.4 MAC layer
		access to user space as IOCTLs

config IEEE802154_DEV
	bool "Debug character driver for ieee802.15.4 radio interfaces"
	default n
	depends on WIRELESS_IEEE802154
	---help---
		Enables a device driver to expose ieee802.15.4 radio controls
		to user space as IOCTLs.

config IEEE802154_NETDEV
	bool "IEEE802154 6loWPAN Network Device"
	default n
	depends on NET_6LOWPAN && NET_IPv6
	select ARCH_HAVE_NETDEV_STATISTICS
	---help---
		Add support for the IEEE802.15.4 6loWPAN network device built on
		the common IEEE802.15.4 MAC.

if IEEE802154_NETDEV

choice
	prompt "Work queue"
	default IEEE802154_NETDEV_LPWORK if SCHED_LPWORK
	default IEEE802154_NETDEV_HPWORK if !SCHED_LPWORK && SCHED_HPWORK
	depends on SCHED_WORKQUEUE
	---help---
		Work queue support is required to use the IEEE802.15.4 network
		driver.  If the low priority work queue is available, then it shoul
		be used by the loopback driver.

config IEEE802154_NETDEV_HPWORK
	bool "High priority"
	depends on SCHED_HPWORK

config IEEE802154_NETDEV_LPWORK
	bool "Low priority"
	depends on SCHED_LPWORK

endchoice # Work queue
endif # IEEE802154_NETDEV

config IEEE802154_LOOPBACK
	bool "IEEE802154 6loWPAN Loopback"
	default n
	depends on NET_6LOWPAN && NET_IPv6
	select ARCH_HAVE_NETDEV_STATISTICS
	---help---
		Add support for the IEEE802.15.4 6loWPAN Loopback test device.

if IEEE802154_LOOPBACK

choice
	prompt "Work queue"
	default IEEE802154_LOOPBACK_LPWORK if SCHED_LPWORK
	default IEEE802154_LOOPBACK_HPWORK if !SCHED_LPWORK && SCHED_HPWORK
	depends on SCHED_WORKQUEUE
	---help---
		Work queue support is required to use the loopback driver.  If the
		low priority work queue is available, then it should be used by the
		loopback driver.

config IEEE802154_LOOPBACK_HPWORK
	bool "High priority"
	depends on SCHED_HPWORK

config IEEE802154_LOOPBACK_LPWORK
	bool "Low priority"
	depends on SCHED_LPWORK

endchoice # Work queue
endif # IEEE802154_LOOPBACK

endif # WIRELESS_IEEE802154
